<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1115.8762010913424" height="622.2204592379999"><desc>sequenceDiagram%0A%0A%0Amain-%3E%3Ecli%3A%20root.Execute()%0Acli-%3E%3Ecfg%3A%20ReadInConfig%20%2B%20Unmarshal%0Acli-%3E%3Elog%3A%20logger.New(cfg.Logger)%0Acli-%3E%3Eapp%3A%20app.New(ctx%2C%20cfg%2C%20log)%0Aapp-%3E%3Erepo%3A%20pg.New(cfg.Database)%0Aapp-%3E%3Ebandit%3A%20bandit.NewUCB1Service()%0Aapp-%3E%3Ebroker%3A%20kafka.New(...)%0Aapp-%3E%3Egrpc%3A%20grpc.New(logger%2C%20handlers)%0Aapp--%3E%3Ecli%3A%20*App%7BgrpcServer%2C%20...%7D%0Acli-%3E%3Egrpc%3A%20app.Start()%20%E2%86%92%20server.Serve(listener)%0ANote%20over%20grpc%3A%20%D0%A1%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20%D1%81%D0%BB%D1%83%D1%88%D0%B0%D0%B5%D1%82%20%D0%BF%D0%BE%D1%80%D1%82%20%D0%B8%20%D0%BF%D0%BE%D1%80%D0%BE%D0%B6%D0%B4%D0%B0%D0%B5%D1%82%20%D0%B3%D0%BE%D1%80%D1%83%D1%82%D0%B8%D0%BD%D1%8B%20%D0%BD%D0%B0%20RPC</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1115" height="622"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.77779288561621 59.284222437999986 L 43.77779288561621 622.2204592379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 182.79982557874771 59.284222437999986 L 182.79982557874771 622.2204592379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 407.0288876145306 59.284222437999986 L 407.0288876145306 622.2204592379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 506.7147048338991 59.284222437999986 L 506.7147048338991 622.2204592379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 584.5020601668991 59.284222437999986 L 584.5020601668991 622.2204592379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 777.3352729747767 59.284222437999986 L 777.3352729747767 622.2204592379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 886.3775355066451 59.284222437999986 L 886.3775355066451 622.2204592379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 982.9100099344937 59.284222437999986 L 982.9100099344937 622.2204592379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1073.727639658668 59.284222437999986 L 1073.727639658668 622.2204592379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 11.786477457999997 L 78.75970707123241 11.786477457999997 L 78.75970707123241 59.284222437999986 L 8.795878699999996 59.284222437999986 L 8.795878699999996 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">main</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 156.78763843246867 11.786477457999997 L 208.81201272502676 11.786477457999997 L 208.81201272502676 59.284222437999986 L 156.78763843246867 59.284222437999986 L 156.78763843246867 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="175.87469521146866" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">cli</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 378.1592781164144 11.786477457999997 L 435.8984971126468 11.786477457999997 L 435.8984971126468 59.284222437999986 L 378.1592781164144 59.284222437999986 L 378.1592781164144 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="397.2463348954144" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">cfg</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 477.84151524239905 11.786477457999997 L 535.5878944253991 11.786477457999997 L 535.5878944253991 59.284222437999986 L 477.84151524239905 59.284222437999986 L 477.84151524239905 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="496.9285720213991" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">log</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 553.1796518253991 11.786477457999997 L 615.8244685083991 11.786477457999997 L 615.8244685083991 59.284222437999986 L 553.1796518253991 59.284222437999986 L 553.1796518253991 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="572.2667086043991" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">app</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 743.5708060700442 11.786477457999997 L 811.0997398795091 11.786477457999997 L 811.0997398795091 59.284222437999986 L 743.5708060700442 59.284222437999986 L 743.5708060700442 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="762.6578628490442" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">repo</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 847.3100080702965 11.786477457999997 L 925.4450629429938 11.786477457999997 L 925.4450629429938 59.284222437999986 L 847.3100080702965 59.284222437999986 L 847.3100080702965 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="866.3970648492965" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">bandit</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 943.0368203429937 11.786477457999997 L 1022.7831995259937 11.786477457999997 L 1022.7831995259937 59.284222437999986 L 943.0368203429937 59.284222437999986 L 943.0368203429937 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="962.1238771219937" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">broker</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1040.3749569259937 11.786477457999997 L 1107.0803223913424 11.786477457999997 L 1107.0803223913424 59.284222437999986 L 1040.3749569259937 59.284222437999986 L 1040.3749569259937 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1059.4620137049938" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">grpc</text></g></g><g><g><rect fill="white" stroke="none" x="64.59470580894954" y="94.46773723799997" width="97.38820684646484" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="67.23346941894954" y="110.30031889799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">root.Execute()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.77779288561621 117.33702185799999 L 180.6008559037477 117.33702185799999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(182.79982557874771,117.33702185799999) translate(-182.79982557874771,-117.33702185799999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 167.72802393545876 110.6133630273286 L 181.1518103389252 117.33702185799999 L 167.72802393545876 124.06068068867137" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="203.61673850208103" y="143.724657958" width="182.59524572585937" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="206.25550211208105" y="159.557239618" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ReadInConfig + Unmarshal</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 182.79982557874771 166.593942578 L 404.8299179395306 166.593942578" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(407.0288876145306,166.593942578) translate(-407.0288876145306,-166.593942578)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 391.9570859712416 159.87028374732859 L 405.3808723747081 166.593942578 L 391.9570859712416 173.3176014086714" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="265.8883609102882" y="192.98157867799998" width="157.7378085920703" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="268.5271245202882" y="208.814160338" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">logger.New(cfg.Logger)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 182.79982557874771 215.85086329799998 L 504.5157351588991 215.85086329799998" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(506.7147048338991,215.85086329799998) translate(-506.7147048338991,-215.85086329799998)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 491.64290319061007 209.12720446732857 L 505.06668959407654 215.85086329799998 L 491.64290319061007 222.5745221286714" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="310.0958384348815" y="242.23849939799993" width="147.11019933914062" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="312.7346020448815" y="258.07108105799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">app.New(ctx, cfg, log)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 182.79982557874771 265.10778401799996 L 582.3030904918992 265.10778401799996" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(584.5020601668991,265.10778401799996) translate(-584.5020601668991,-265.10778401799996)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 569.4302585236102 258.3841251873286 L 582.8540449270766 265.10778401799996 L 569.4302585236102 271.8314428486713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="605.3189730902325" y="291.49542011799997" width="151.19938696121093" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="607.9577367002324" y="307.328001778" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">pg.New(cfg.Database)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 584.5020601668991 314.36470473799994 L 775.1363032997767 314.36470473799994" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(777.3352729747767,314.36470473799994) translate(-777.3352729747767,-314.36470473799994)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 762.2634713314877 307.6410459073286 L 775.6872577349542 314.36470473799994 L 762.2634713314877 321.0883635686713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="647.2144482282371" y="340.75234083799995" width="176.4506992170703" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="649.853211838237" y="356.58492249799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">bandit.NewUCB1Service()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 584.5020601668991 363.6216254579999 L 884.1785658316452 363.6216254579999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(886.3775355066451,363.6216254579999) translate(-886.3775355066451,-363.6216254579999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 871.3057338633562 356.89796662732857 L 884.7295202668226 363.6216254579999 L 871.3057338633562 370.3452842886713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="735.8355018789289" y="390.00926155799993" width="95.74106634353515" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="738.4742654889288" y="405.84184321799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">kafka.New(...)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 584.5020601668991 412.8785461779999 L 980.7110402594938 412.8785461779999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(982.9100099344937,412.8785461779999) translate(-982.9100099344937,-412.8785461779999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 967.8382082912048 406.15488734732855 L 981.2619946946712 412.8785461779999 L 967.8382082912048 419.60220500867126" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="738.4295393667485" y="439.2661822779999" width="181.3706210920703" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.0683029767484" y="455.09876393799993" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">grpc.New(logger, handlers)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 584.5020601668991 462.1354668979999 L 1071.5286699836681 462.1354668979999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1073.727639658668,462.1354668979999) translate(-1073.727639658668,-462.1354668979999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1058.655838015379 455.41180806732854 L 1072.0796244188455 462.1354668979999 L 1058.655838015379 468.85912572867124" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="314.56100548047476" y="488.5231029979999" width="138.17987097" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="317.1997690904748" y="504.3556846579999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">*App{grpcServer, ...}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 584.5020601668991 511.3923876179999 L 184.99879525374772 511.3923876179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(182.79982557874771,511.3923876179999) translate(-182.79982557874771,-511.3923876179999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 197.87162722203666 504.6687287873285 L 184.44784081857023 511.3923876179999 L 197.87162722203666 518.1160464486712" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="509.88147783591734" y="537.7800237179998" width="236.76452673171875" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="512.5202414459173" y="553.6126053779998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">app.Start() → server.Serve(listener)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 182.79982557874771 560.6493083379999 L 1071.5286699836681 560.6493083379999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1073.727639658668,560.6493083379999) translate(-1073.727639658668,-560.6493083379999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1058.655838015379 553.9256495073284 L 1072.0796244188455 560.6493083379999 L 1058.655838015379 567.3729671686713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/></g></svg>